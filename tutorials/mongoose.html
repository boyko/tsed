<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mongoose | Ts.ED - A Node.js and TypeScript Framework on top of Express.</title>
    <meta name="description" content="Use Mongoose with Express, TypeScript and Ts.ED. Mongoose provides a straight-forward, schema-based solution to model your application data.">
    <meta name="generator" content="VuePress 1.4.0">
    <link canonical="https://tsed.io">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <meta property="og:url" content="https://tsed.io">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Ts.ED - A Node.js and TypeScript Framework on top of Express.">
  <meta property="og:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express.">
  <meta property="og:description" content="A Node.js and TypeScript Framework on top of Express. It provides a lot of decorators and guidelines to write your code.">
  <meta name="twitter:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express.">
  <meta name="twitter:description" content="A Node.js and TypeScript Framework on top of Express. It provides a lot of decorators and guidelines to write your code.">
  <meta name="twitter:card" content="summary">
    <meta name="keywords" content="ts.ed express typescript mongoose node.js javascript decorators">
    <link rel="preload" href="/assets/css/0.styles.fdba499e.css" as="style"><link rel="preload" href="/assets/js/app.65d309d5.js" as="script"><link rel="preload" href="/assets/js/4.387fd50b.js" as="script"><link rel="preload" href="/assets/js/1.c67e570d.js" as="script"><link rel="preload" href="/assets/js/669.6035b088.js" as="script"><link rel="prefetch" href="/assets/js/10.ac15e678.js"><link rel="prefetch" href="/assets/js/100.1a5f5388.js"><link rel="prefetch" href="/assets/js/101.54b4243f.js"><link rel="prefetch" href="/assets/js/102.fc20163d.js"><link rel="prefetch" href="/assets/js/103.5b12d98d.js"><link rel="prefetch" href="/assets/js/104.2d54f314.js"><link rel="prefetch" href="/assets/js/105.1d7e8647.js"><link rel="prefetch" href="/assets/js/106.dc0fa625.js"><link rel="prefetch" href="/assets/js/107.1fa98e1b.js"><link rel="prefetch" href="/assets/js/108.5d957338.js"><link rel="prefetch" href="/assets/js/109.c02d8d95.js"><link rel="prefetch" href="/assets/js/11.a8ec6a40.js"><link rel="prefetch" href="/assets/js/110.aab84e83.js"><link rel="prefetch" href="/assets/js/111.4b11de80.js"><link rel="prefetch" href="/assets/js/112.1da918f0.js"><link rel="prefetch" href="/assets/js/113.8ffdb871.js"><link rel="prefetch" href="/assets/js/114.d954240f.js"><link rel="prefetch" href="/assets/js/115.5d2bf31f.js"><link rel="prefetch" href="/assets/js/116.89ea6e29.js"><link rel="prefetch" href="/assets/js/117.ca3b21c9.js"><link rel="prefetch" href="/assets/js/118.bd376535.js"><link rel="prefetch" href="/assets/js/119.890cb91d.js"><link rel="prefetch" href="/assets/js/12.aa2d1139.js"><link rel="prefetch" href="/assets/js/120.67c015f7.js"><link rel="prefetch" href="/assets/js/121.9295d244.js"><link rel="prefetch" href="/assets/js/122.d9283b8f.js"><link rel="prefetch" href="/assets/js/123.025570f0.js"><link rel="prefetch" href="/assets/js/124.70d7de29.js"><link rel="prefetch" href="/assets/js/125.5fb52677.js"><link rel="prefetch" href="/assets/js/126.d217e153.js"><link rel="prefetch" href="/assets/js/127.33b12309.js"><link rel="prefetch" href="/assets/js/128.f5f41c8f.js"><link rel="prefetch" href="/assets/js/129.68d03e17.js"><link rel="prefetch" href="/assets/js/13.1eb13257.js"><link rel="prefetch" href="/assets/js/130.67f2ceb2.js"><link rel="prefetch" href="/assets/js/131.1e98c66b.js"><link rel="prefetch" href="/assets/js/132.be5b5ab2.js"><link rel="prefetch" href="/assets/js/133.8131067e.js"><link rel="prefetch" href="/assets/js/134.7ea10577.js"><link rel="prefetch" href="/assets/js/135.5fb4bcb7.js"><link rel="prefetch" href="/assets/js/136.fd0efb56.js"><link rel="prefetch" href="/assets/js/137.e6d34f73.js"><link rel="prefetch" href="/assets/js/138.256dc2d5.js"><link rel="prefetch" href="/assets/js/139.dd4498f3.js"><link rel="prefetch" href="/assets/js/14.a3f45f29.js"><link rel="prefetch" href="/assets/js/140.c4db213d.js"><link rel="prefetch" href="/assets/js/141.f849b67c.js"><link rel="prefetch" href="/assets/js/142.df43277d.js"><link rel="prefetch" href="/assets/js/143.027bff2b.js"><link rel="prefetch" href="/assets/js/144.a93bee06.js"><link rel="prefetch" href="/assets/js/145.3e9facf1.js"><link rel="prefetch" href="/assets/js/146.0746245e.js"><link rel="prefetch" href="/assets/js/147.9f3b2a9f.js"><link rel="prefetch" href="/assets/js/148.e746e9e0.js"><link rel="prefetch" href="/assets/js/149.ee1c5249.js"><link rel="prefetch" href="/assets/js/15.af07ade8.js"><link rel="prefetch" href="/assets/js/150.4f0b512b.js"><link rel="prefetch" href="/assets/js/151.435945aa.js"><link rel="prefetch" href="/assets/js/152.76f47442.js"><link rel="prefetch" href="/assets/js/153.d9584998.js"><link rel="prefetch" href="/assets/js/154.47c8e8fc.js"><link rel="prefetch" href="/assets/js/155.5447320f.js"><link rel="prefetch" href="/assets/js/156.abf5542d.js"><link rel="prefetch" href="/assets/js/157.403e6841.js"><link rel="prefetch" href="/assets/js/158.edd5d547.js"><link rel="prefetch" href="/assets/js/159.52b71686.js"><link rel="prefetch" href="/assets/js/16.c3a2039b.js"><link rel="prefetch" href="/assets/js/160.193bd232.js"><link rel="prefetch" href="/assets/js/161.95d52f5b.js"><link rel="prefetch" href="/assets/js/162.972678c6.js"><link rel="prefetch" href="/assets/js/163.6db2eb7c.js"><link rel="prefetch" href="/assets/js/164.5f1728e8.js"><link rel="prefetch" href="/assets/js/165.11749d06.js"><link rel="prefetch" href="/assets/js/166.338d1b26.js"><link rel="prefetch" href="/assets/js/167.53502c51.js"><link rel="prefetch" href="/assets/js/168.bbb0bfc0.js"><link rel="prefetch" href="/assets/js/169.c2d93f33.js"><link rel="prefetch" href="/assets/js/17.8f95bc01.js"><link rel="prefetch" href="/assets/js/170.6a33ab10.js"><link rel="prefetch" href="/assets/js/171.dabb7a6c.js"><link rel="prefetch" href="/assets/js/172.8bfe0b49.js"><link rel="prefetch" href="/assets/js/173.05e8ba4e.js"><link rel="prefetch" href="/assets/js/174.078f018f.js"><link rel="prefetch" href="/assets/js/175.62d59ddb.js"><link rel="prefetch" href="/assets/js/176.b2c264dc.js"><link rel="prefetch" href="/assets/js/177.57a42f8b.js"><link rel="prefetch" href="/assets/js/178.9987bff5.js"><link rel="prefetch" href="/assets/js/179.cf412ec3.js"><link rel="prefetch" href="/assets/js/18.8818bd75.js"><link rel="prefetch" href="/assets/js/180.f76f8558.js"><link rel="prefetch" href="/assets/js/181.ea491f8e.js"><link rel="prefetch" href="/assets/js/182.3e1f3b12.js"><link rel="prefetch" href="/assets/js/183.88c1ec39.js"><link rel="prefetch" href="/assets/js/184.64c84c79.js"><link rel="prefetch" href="/assets/js/185.556bf8b5.js"><link rel="prefetch" href="/assets/js/186.2e959206.js"><link rel="prefetch" href="/assets/js/187.132c9ec4.js"><link rel="prefetch" href="/assets/js/188.c9e35512.js"><link rel="prefetch" href="/assets/js/189.bb7a086f.js"><link rel="prefetch" href="/assets/js/19.d3f2ac5e.js"><link rel="prefetch" href="/assets/js/190.afb58285.js"><link rel="prefetch" href="/assets/js/191.bbc35230.js"><link rel="prefetch" href="/assets/js/192.eebb1c04.js"><link rel="prefetch" href="/assets/js/193.8ed5db6e.js"><link rel="prefetch" href="/assets/js/194.96c754f4.js"><link rel="prefetch" href="/assets/js/195.ae217b2f.js"><link rel="prefetch" href="/assets/js/196.eff88c0b.js"><link rel="prefetch" href="/assets/js/197.12a97b2c.js"><link rel="prefetch" href="/assets/js/198.ca60cd79.js"><link rel="prefetch" href="/assets/js/199.161655bf.js"><link rel="prefetch" href="/assets/js/20.de1c329a.js"><link rel="prefetch" href="/assets/js/200.4ec830b1.js"><link rel="prefetch" href="/assets/js/201.00e00caa.js"><link rel="prefetch" href="/assets/js/202.85ca7800.js"><link rel="prefetch" href="/assets/js/203.3f6fb53b.js"><link rel="prefetch" href="/assets/js/204.7d099a94.js"><link rel="prefetch" href="/assets/js/205.0fd766a8.js"><link rel="prefetch" href="/assets/js/206.225612d7.js"><link rel="prefetch" href="/assets/js/207.ba4ec955.js"><link rel="prefetch" href="/assets/js/208.36a91a28.js"><link rel="prefetch" href="/assets/js/209.945c8080.js"><link rel="prefetch" href="/assets/js/21.039cab0c.js"><link rel="prefetch" href="/assets/js/210.0b250088.js"><link rel="prefetch" href="/assets/js/211.0e145f68.js"><link rel="prefetch" href="/assets/js/212.934bbaf2.js"><link rel="prefetch" href="/assets/js/213.ef15b889.js"><link rel="prefetch" href="/assets/js/214.c37893a3.js"><link rel="prefetch" href="/assets/js/215.9d7a3a57.js"><link rel="prefetch" href="/assets/js/216.fa093171.js"><link rel="prefetch" href="/assets/js/217.4e285886.js"><link rel="prefetch" href="/assets/js/218.e9e2d057.js"><link rel="prefetch" href="/assets/js/219.7bfabd42.js"><link rel="prefetch" href="/assets/js/22.619964f4.js"><link rel="prefetch" href="/assets/js/220.31a1315b.js"><link rel="prefetch" href="/assets/js/221.83e35d8d.js"><link rel="prefetch" href="/assets/js/222.e610ef1f.js"><link rel="prefetch" href="/assets/js/223.e2940b8d.js"><link rel="prefetch" href="/assets/js/224.7a8e367e.js"><link rel="prefetch" href="/assets/js/225.b05ff605.js"><link rel="prefetch" href="/assets/js/226.a89719a7.js"><link rel="prefetch" href="/assets/js/227.d98cd983.js"><link rel="prefetch" href="/assets/js/228.d5ea62d6.js"><link rel="prefetch" href="/assets/js/229.bae7a879.js"><link rel="prefetch" href="/assets/js/23.5b003252.js"><link rel="prefetch" href="/assets/js/230.6c512996.js"><link rel="prefetch" href="/assets/js/231.9e284c2e.js"><link rel="prefetch" href="/assets/js/232.dc560508.js"><link rel="prefetch" href="/assets/js/233.e3fe8b35.js"><link rel="prefetch" href="/assets/js/234.ff5e6266.js"><link rel="prefetch" href="/assets/js/235.9cd0e541.js"><link rel="prefetch" href="/assets/js/236.0a3fc94a.js"><link rel="prefetch" href="/assets/js/237.85aaad4a.js"><link rel="prefetch" href="/assets/js/238.6c50d7b5.js"><link rel="prefetch" href="/assets/js/239.4938c464.js"><link rel="prefetch" href="/assets/js/24.70dac996.js"><link rel="prefetch" href="/assets/js/240.c6174883.js"><link rel="prefetch" href="/assets/js/241.2ee24eea.js"><link rel="prefetch" href="/assets/js/242.9fda58a6.js"><link rel="prefetch" href="/assets/js/243.592997ef.js"><link rel="prefetch" href="/assets/js/244.acd55287.js"><link rel="prefetch" href="/assets/js/245.06ff5965.js"><link rel="prefetch" href="/assets/js/246.b419e22a.js"><link rel="prefetch" href="/assets/js/247.040f981f.js"><link rel="prefetch" href="/assets/js/248.911bcc7c.js"><link rel="prefetch" href="/assets/js/249.9fc04174.js"><link rel="prefetch" href="/assets/js/25.1377ee3f.js"><link rel="prefetch" href="/assets/js/250.87325b0d.js"><link rel="prefetch" href="/assets/js/251.e50c58d4.js"><link rel="prefetch" href="/assets/js/252.62a45362.js"><link rel="prefetch" href="/assets/js/253.9e23c264.js"><link rel="prefetch" href="/assets/js/254.08c7857f.js"><link rel="prefetch" href="/assets/js/255.20e965c0.js"><link rel="prefetch" href="/assets/js/256.79ba5ea7.js"><link rel="prefetch" href="/assets/js/257.38a2495b.js"><link rel="prefetch" href="/assets/js/258.d8609d79.js"><link rel="prefetch" href="/assets/js/259.9acfa6af.js"><link rel="prefetch" href="/assets/js/26.732e83b5.js"><link rel="prefetch" href="/assets/js/260.2e2f9abd.js"><link rel="prefetch" href="/assets/js/261.0b52d647.js"><link rel="prefetch" href="/assets/js/262.87cace6e.js"><link rel="prefetch" href="/assets/js/263.134e0c39.js"><link rel="prefetch" href="/assets/js/264.378da590.js"><link rel="prefetch" href="/assets/js/265.efee01d0.js"><link rel="prefetch" href="/assets/js/266.8879b793.js"><link rel="prefetch" href="/assets/js/267.5e2e8b34.js"><link rel="prefetch" href="/assets/js/268.84eb9825.js"><link rel="prefetch" href="/assets/js/269.c5f1f9a9.js"><link rel="prefetch" href="/assets/js/27.15413e9d.js"><link rel="prefetch" href="/assets/js/270.8f5f1c0d.js"><link rel="prefetch" href="/assets/js/271.41f31d2c.js"><link rel="prefetch" href="/assets/js/272.9b6ccfd0.js"><link rel="prefetch" href="/assets/js/273.16a44a01.js"><link rel="prefetch" href="/assets/js/274.e05cb9b4.js"><link rel="prefetch" href="/assets/js/275.dd6c5f71.js"><link rel="prefetch" href="/assets/js/276.566d8562.js"><link rel="prefetch" href="/assets/js/277.7065aae7.js"><link rel="prefetch" href="/assets/js/278.5eedaa17.js"><link rel="prefetch" href="/assets/js/279.6e5b8d75.js"><link rel="prefetch" href="/assets/js/28.a586862b.js"><link rel="prefetch" href="/assets/js/280.3cfe3449.js"><link rel="prefetch" href="/assets/js/281.cbd9910b.js"><link rel="prefetch" href="/assets/js/282.2c807b78.js"><link rel="prefetch" href="/assets/js/283.411d5d47.js"><link rel="prefetch" href="/assets/js/284.d2023a40.js"><link rel="prefetch" href="/assets/js/285.e3a09532.js"><link rel="prefetch" href="/assets/js/286.1c547d7c.js"><link rel="prefetch" href="/assets/js/287.4922c6bd.js"><link rel="prefetch" href="/assets/js/288.3eea8a9d.js"><link rel="prefetch" href="/assets/js/289.066a0f9c.js"><link rel="prefetch" href="/assets/js/29.5334c433.js"><link rel="prefetch" href="/assets/js/290.d4651b10.js"><link rel="prefetch" href="/assets/js/291.eb042fb0.js"><link rel="prefetch" href="/assets/js/292.e3c391b3.js"><link rel="prefetch" href="/assets/js/293.3f5e8cb7.js"><link rel="prefetch" href="/assets/js/294.8f8ac981.js"><link rel="prefetch" href="/assets/js/295.9ffbb1e9.js"><link rel="prefetch" href="/assets/js/296.9d26c68c.js"><link rel="prefetch" href="/assets/js/297.97559eb9.js"><link rel="prefetch" href="/assets/js/298.c4c7bfa2.js"><link rel="prefetch" href="/assets/js/299.bcf31e8f.js"><link rel="prefetch" href="/assets/js/30.d0ba4bf6.js"><link rel="prefetch" href="/assets/js/300.36e874c6.js"><link rel="prefetch" href="/assets/js/301.025c954b.js"><link rel="prefetch" href="/assets/js/302.e7d8e9cf.js"><link rel="prefetch" href="/assets/js/303.bed89a1d.js"><link rel="prefetch" href="/assets/js/304.48bceacf.js"><link rel="prefetch" href="/assets/js/305.a849f0d6.js"><link rel="prefetch" href="/assets/js/306.e042fd17.js"><link rel="prefetch" href="/assets/js/307.f3da13d8.js"><link rel="prefetch" href="/assets/js/308.0710d291.js"><link rel="prefetch" href="/assets/js/309.632adf22.js"><link rel="prefetch" href="/assets/js/31.5377c6f3.js"><link rel="prefetch" href="/assets/js/310.cdc17556.js"><link rel="prefetch" href="/assets/js/311.bf721e6f.js"><link rel="prefetch" href="/assets/js/312.8c2784ed.js"><link rel="prefetch" href="/assets/js/313.0943ce65.js"><link rel="prefetch" href="/assets/js/314.abbe86bb.js"><link rel="prefetch" href="/assets/js/315.3330f253.js"><link rel="prefetch" href="/assets/js/316.7f19b2fb.js"><link rel="prefetch" href="/assets/js/317.4b0f8a1a.js"><link rel="prefetch" href="/assets/js/318.1a215006.js"><link rel="prefetch" href="/assets/js/319.10afefaf.js"><link rel="prefetch" href="/assets/js/32.953e6f43.js"><link rel="prefetch" href="/assets/js/320.f7ce041d.js"><link rel="prefetch" href="/assets/js/321.e0c9cb16.js"><link rel="prefetch" href="/assets/js/322.c6b96993.js"><link rel="prefetch" href="/assets/js/323.7fa1aa76.js"><link rel="prefetch" href="/assets/js/324.653e6700.js"><link rel="prefetch" href="/assets/js/325.9bb0948c.js"><link rel="prefetch" href="/assets/js/326.22880d2a.js"><link rel="prefetch" href="/assets/js/327.96a233ee.js"><link rel="prefetch" href="/assets/js/328.ad21091c.js"><link rel="prefetch" href="/assets/js/329.edc19e24.js"><link rel="prefetch" href="/assets/js/33.eb7cbe49.js"><link rel="prefetch" href="/assets/js/330.a2894ff2.js"><link rel="prefetch" href="/assets/js/331.f3e4dfb2.js"><link rel="prefetch" href="/assets/js/332.243b9eee.js"><link rel="prefetch" href="/assets/js/333.9fe23de1.js"><link rel="prefetch" href="/assets/js/334.32df73e7.js"><link rel="prefetch" href="/assets/js/335.41e14947.js"><link rel="prefetch" href="/assets/js/336.12268a03.js"><link rel="prefetch" href="/assets/js/337.513b2a11.js"><link rel="prefetch" href="/assets/js/338.bea9cc46.js"><link rel="prefetch" href="/assets/js/339.8b9efdbe.js"><link rel="prefetch" href="/assets/js/34.50421d4e.js"><link rel="prefetch" href="/assets/js/340.703d7fd7.js"><link rel="prefetch" href="/assets/js/341.059776cb.js"><link rel="prefetch" href="/assets/js/342.54219c69.js"><link rel="prefetch" href="/assets/js/343.9688dee3.js"><link rel="prefetch" href="/assets/js/344.fe7ddbca.js"><link rel="prefetch" href="/assets/js/345.a17bb2fd.js"><link rel="prefetch" href="/assets/js/346.d519fbc3.js"><link rel="prefetch" href="/assets/js/347.b5d5cecf.js"><link rel="prefetch" href="/assets/js/348.84aef387.js"><link rel="prefetch" href="/assets/js/349.6975c122.js"><link rel="prefetch" href="/assets/js/35.05ab4bb2.js"><link rel="prefetch" href="/assets/js/350.0bdbf62e.js"><link rel="prefetch" href="/assets/js/351.71cfb8f7.js"><link rel="prefetch" href="/assets/js/352.7451acb9.js"><link rel="prefetch" href="/assets/js/353.fddcf6c8.js"><link rel="prefetch" href="/assets/js/354.2416b1cb.js"><link rel="prefetch" href="/assets/js/355.efcb8032.js"><link rel="prefetch" href="/assets/js/356.0ef643b7.js"><link rel="prefetch" href="/assets/js/357.615dfd2a.js"><link rel="prefetch" href="/assets/js/358.08607353.js"><link rel="prefetch" href="/assets/js/359.3fd9eac1.js"><link rel="prefetch" href="/assets/js/36.6d630c09.js"><link rel="prefetch" href="/assets/js/360.3a2c5cee.js"><link rel="prefetch" href="/assets/js/361.2dfbab2b.js"><link rel="prefetch" href="/assets/js/362.c3a670f8.js"><link rel="prefetch" href="/assets/js/363.5646a396.js"><link rel="prefetch" href="/assets/js/364.122140af.js"><link rel="prefetch" href="/assets/js/365.33618b8b.js"><link rel="prefetch" href="/assets/js/366.460140d9.js"><link rel="prefetch" href="/assets/js/367.3c1c1408.js"><link rel="prefetch" href="/assets/js/368.b6df6b79.js"><link rel="prefetch" href="/assets/js/369.1dded405.js"><link rel="prefetch" href="/assets/js/37.fac9aac6.js"><link rel="prefetch" href="/assets/js/370.fded5115.js"><link rel="prefetch" href="/assets/js/371.1ed28981.js"><link rel="prefetch" href="/assets/js/372.f0cb17eb.js"><link rel="prefetch" href="/assets/js/373.08fc76f1.js"><link rel="prefetch" href="/assets/js/374.901bebf8.js"><link rel="prefetch" href="/assets/js/375.b1a17695.js"><link rel="prefetch" href="/assets/js/376.ba4804a1.js"><link rel="prefetch" href="/assets/js/377.2bdb4792.js"><link rel="prefetch" href="/assets/js/378.eec87e42.js"><link rel="prefetch" href="/assets/js/379.e82f9dbb.js"><link rel="prefetch" href="/assets/js/38.660946d9.js"><link rel="prefetch" href="/assets/js/380.f1cd263a.js"><link rel="prefetch" href="/assets/js/381.8f5018e6.js"><link rel="prefetch" href="/assets/js/382.283dae52.js"><link rel="prefetch" href="/assets/js/383.c6cf1692.js"><link rel="prefetch" href="/assets/js/384.904e3381.js"><link rel="prefetch" href="/assets/js/385.634ddff0.js"><link rel="prefetch" href="/assets/js/386.e2c3ec7e.js"><link rel="prefetch" href="/assets/js/387.035349b9.js"><link rel="prefetch" href="/assets/js/388.11590c8d.js"><link rel="prefetch" href="/assets/js/389.fb9ffc7f.js"><link rel="prefetch" href="/assets/js/39.f7d65e46.js"><link rel="prefetch" href="/assets/js/390.965cdd29.js"><link rel="prefetch" href="/assets/js/391.e0d105df.js"><link rel="prefetch" href="/assets/js/392.2c16cace.js"><link rel="prefetch" href="/assets/js/393.ab237dbc.js"><link rel="prefetch" href="/assets/js/394.be33683f.js"><link rel="prefetch" href="/assets/js/395.f82f8ec3.js"><link rel="prefetch" href="/assets/js/396.f13cda80.js"><link rel="prefetch" href="/assets/js/397.f4b50c27.js"><link rel="prefetch" href="/assets/js/398.f2a084d8.js"><link rel="prefetch" href="/assets/js/399.15c4819e.js"><link rel="prefetch" href="/assets/js/40.a92aa35a.js"><link rel="prefetch" href="/assets/js/400.9d951ad4.js"><link rel="prefetch" href="/assets/js/401.3636491b.js"><link rel="prefetch" href="/assets/js/402.38125bab.js"><link rel="prefetch" href="/assets/js/403.458dfffc.js"><link rel="prefetch" href="/assets/js/404.7e4d8ec8.js"><link rel="prefetch" href="/assets/js/405.0a2e6f47.js"><link rel="prefetch" href="/assets/js/406.1e704c67.js"><link rel="prefetch" href="/assets/js/407.30e7fb13.js"><link rel="prefetch" href="/assets/js/408.3048a048.js"><link rel="prefetch" href="/assets/js/409.b7dc7ff4.js"><link rel="prefetch" href="/assets/js/41.00ff08d7.js"><link rel="prefetch" href="/assets/js/410.ef82777d.js"><link rel="prefetch" href="/assets/js/411.60b18e1d.js"><link rel="prefetch" href="/assets/js/412.2edce21b.js"><link rel="prefetch" href="/assets/js/413.c7b5406a.js"><link rel="prefetch" href="/assets/js/414.73b24edc.js"><link rel="prefetch" href="/assets/js/415.c845dbc3.js"><link rel="prefetch" href="/assets/js/416.421400df.js"><link rel="prefetch" href="/assets/js/417.20e514db.js"><link rel="prefetch" href="/assets/js/418.70de4be5.js"><link rel="prefetch" href="/assets/js/419.576d9d88.js"><link rel="prefetch" href="/assets/js/42.b0f17041.js"><link rel="prefetch" href="/assets/js/420.e11a0f75.js"><link rel="prefetch" href="/assets/js/421.1d7551d0.js"><link rel="prefetch" href="/assets/js/422.bf63b24f.js"><link rel="prefetch" href="/assets/js/423.dc79d1bb.js"><link rel="prefetch" href="/assets/js/424.55cea6e8.js"><link rel="prefetch" href="/assets/js/425.7d0e58d6.js"><link rel="prefetch" href="/assets/js/426.39dd0ab5.js"><link rel="prefetch" href="/assets/js/427.369d9f5f.js"><link rel="prefetch" href="/assets/js/428.287af842.js"><link rel="prefetch" href="/assets/js/429.c1d02750.js"><link rel="prefetch" href="/assets/js/43.a0042092.js"><link rel="prefetch" href="/assets/js/430.ef688d8a.js"><link rel="prefetch" href="/assets/js/431.e28f080d.js"><link rel="prefetch" href="/assets/js/432.63475672.js"><link rel="prefetch" href="/assets/js/433.5660056e.js"><link rel="prefetch" href="/assets/js/434.2432c188.js"><link rel="prefetch" href="/assets/js/435.14c8083f.js"><link rel="prefetch" href="/assets/js/436.c44fb91a.js"><link rel="prefetch" href="/assets/js/437.4fdf3cb8.js"><link rel="prefetch" href="/assets/js/438.2bd10f91.js"><link rel="prefetch" href="/assets/js/439.b371bbac.js"><link rel="prefetch" href="/assets/js/44.d1ddc124.js"><link rel="prefetch" href="/assets/js/440.8385c048.js"><link rel="prefetch" href="/assets/js/441.18b3a2de.js"><link rel="prefetch" href="/assets/js/442.bd0086ce.js"><link rel="prefetch" href="/assets/js/443.6854719f.js"><link rel="prefetch" href="/assets/js/444.952610d4.js"><link rel="prefetch" href="/assets/js/445.5e81a052.js"><link rel="prefetch" href="/assets/js/446.8fe81b3d.js"><link rel="prefetch" href="/assets/js/447.6241553b.js"><link rel="prefetch" href="/assets/js/448.7a195139.js"><link rel="prefetch" href="/assets/js/449.90bc7402.js"><link rel="prefetch" href="/assets/js/45.8947b7c9.js"><link rel="prefetch" href="/assets/js/450.9c228834.js"><link rel="prefetch" href="/assets/js/451.0014d56e.js"><link rel="prefetch" href="/assets/js/452.d75404f6.js"><link rel="prefetch" href="/assets/js/453.7695cf89.js"><link rel="prefetch" href="/assets/js/454.61229562.js"><link rel="prefetch" href="/assets/js/455.1128adb1.js"><link rel="prefetch" href="/assets/js/456.53c90bc0.js"><link rel="prefetch" href="/assets/js/457.f8132753.js"><link rel="prefetch" href="/assets/js/458.759f1b9f.js"><link rel="prefetch" href="/assets/js/459.c8545edf.js"><link rel="prefetch" href="/assets/js/46.0b56ec89.js"><link rel="prefetch" href="/assets/js/460.65d90970.js"><link rel="prefetch" href="/assets/js/461.f45e57a6.js"><link rel="prefetch" href="/assets/js/462.845fd783.js"><link rel="prefetch" href="/assets/js/463.c350f527.js"><link rel="prefetch" href="/assets/js/464.074c2d09.js"><link rel="prefetch" href="/assets/js/465.3d30989d.js"><link rel="prefetch" href="/assets/js/466.e8a6cb6e.js"><link rel="prefetch" href="/assets/js/467.ca4bc46f.js"><link rel="prefetch" href="/assets/js/468.65189ff5.js"><link rel="prefetch" href="/assets/js/469.9f2faed4.js"><link rel="prefetch" href="/assets/js/47.acd17069.js"><link rel="prefetch" href="/assets/js/470.44184d5b.js"><link rel="prefetch" href="/assets/js/471.6e4ac9e2.js"><link rel="prefetch" href="/assets/js/472.9ea04e52.js"><link rel="prefetch" href="/assets/js/473.54f6c823.js"><link rel="prefetch" href="/assets/js/474.2e05a88e.js"><link rel="prefetch" href="/assets/js/475.c5f0dd10.js"><link rel="prefetch" href="/assets/js/476.09b1483a.js"><link rel="prefetch" href="/assets/js/477.52f5c6ca.js"><link rel="prefetch" href="/assets/js/478.a4cab123.js"><link rel="prefetch" href="/assets/js/479.de434657.js"><link rel="prefetch" href="/assets/js/48.a3a661d5.js"><link rel="prefetch" href="/assets/js/480.645124db.js"><link rel="prefetch" href="/assets/js/481.096a2a5e.js"><link rel="prefetch" href="/assets/js/482.57a1417d.js"><link rel="prefetch" href="/assets/js/483.ab05f539.js"><link rel="prefetch" href="/assets/js/484.098243d4.js"><link rel="prefetch" href="/assets/js/485.4759fd3e.js"><link rel="prefetch" href="/assets/js/486.845f3ec4.js"><link rel="prefetch" href="/assets/js/487.0509aac1.js"><link rel="prefetch" href="/assets/js/488.afafcd9e.js"><link rel="prefetch" href="/assets/js/489.2a1a4046.js"><link rel="prefetch" href="/assets/js/49.631204bd.js"><link rel="prefetch" href="/assets/js/490.fa9f471a.js"><link rel="prefetch" href="/assets/js/491.cfd77f6f.js"><link rel="prefetch" href="/assets/js/492.93472f67.js"><link rel="prefetch" href="/assets/js/493.d0102e43.js"><link rel="prefetch" href="/assets/js/494.600b9494.js"><link rel="prefetch" href="/assets/js/495.0fd0f5ad.js"><link rel="prefetch" href="/assets/js/496.994d6837.js"><link rel="prefetch" href="/assets/js/497.7a15f354.js"><link rel="prefetch" href="/assets/js/498.6e3ab4ee.js"><link rel="prefetch" href="/assets/js/499.441c5142.js"><link rel="prefetch" href="/assets/js/5.61697316.js"><link rel="prefetch" href="/assets/js/50.d6c49504.js"><link rel="prefetch" href="/assets/js/500.186406d5.js"><link rel="prefetch" href="/assets/js/501.92770a6d.js"><link rel="prefetch" href="/assets/js/502.50d498d4.js"><link rel="prefetch" href="/assets/js/503.b4b7a243.js"><link rel="prefetch" href="/assets/js/504.a64a7ac2.js"><link rel="prefetch" href="/assets/js/505.3e3cd608.js"><link rel="prefetch" href="/assets/js/506.6a5e4a5e.js"><link rel="prefetch" href="/assets/js/507.fe0dc272.js"><link rel="prefetch" href="/assets/js/508.fd2158fa.js"><link rel="prefetch" href="/assets/js/509.26d04068.js"><link rel="prefetch" href="/assets/js/51.90d24c00.js"><link rel="prefetch" href="/assets/js/510.f9fae326.js"><link rel="prefetch" href="/assets/js/511.209f2dc6.js"><link rel="prefetch" href="/assets/js/512.7b2a47e1.js"><link rel="prefetch" href="/assets/js/513.43088705.js"><link rel="prefetch" href="/assets/js/514.97ad3c33.js"><link rel="prefetch" href="/assets/js/515.c784b3f5.js"><link rel="prefetch" href="/assets/js/516.4a56ceaa.js"><link rel="prefetch" href="/assets/js/517.c09639f6.js"><link rel="prefetch" href="/assets/js/518.3e94ca4e.js"><link rel="prefetch" href="/assets/js/519.863802fe.js"><link rel="prefetch" href="/assets/js/52.229c53b3.js"><link rel="prefetch" href="/assets/js/520.0fe74326.js"><link rel="prefetch" href="/assets/js/521.5cb451fb.js"><link rel="prefetch" href="/assets/js/522.a0a61e67.js"><link rel="prefetch" href="/assets/js/523.e26ff495.js"><link rel="prefetch" href="/assets/js/524.01e4dffb.js"><link rel="prefetch" href="/assets/js/525.93309020.js"><link rel="prefetch" href="/assets/js/526.6420ceba.js"><link rel="prefetch" href="/assets/js/527.f13d373f.js"><link rel="prefetch" href="/assets/js/528.f153b341.js"><link rel="prefetch" href="/assets/js/529.055d627a.js"><link rel="prefetch" href="/assets/js/53.347fd776.js"><link rel="prefetch" href="/assets/js/530.90cd4f68.js"><link rel="prefetch" href="/assets/js/531.33b56d0b.js"><link rel="prefetch" href="/assets/js/532.4581e236.js"><link rel="prefetch" href="/assets/js/533.49eec598.js"><link rel="prefetch" href="/assets/js/534.588d2396.js"><link rel="prefetch" href="/assets/js/535.4238305b.js"><link rel="prefetch" href="/assets/js/536.59dfc9a2.js"><link rel="prefetch" href="/assets/js/537.5f92bfe9.js"><link rel="prefetch" href="/assets/js/538.f03bf569.js"><link rel="prefetch" href="/assets/js/539.f2c70fe7.js"><link rel="prefetch" href="/assets/js/54.46160cc6.js"><link rel="prefetch" href="/assets/js/540.c88edaf3.js"><link rel="prefetch" href="/assets/js/541.3fa99505.js"><link rel="prefetch" href="/assets/js/542.05924887.js"><link rel="prefetch" href="/assets/js/543.13121089.js"><link rel="prefetch" href="/assets/js/544.d6a63498.js"><link rel="prefetch" href="/assets/js/545.e6b9892b.js"><link rel="prefetch" href="/assets/js/546.b43ad616.js"><link rel="prefetch" href="/assets/js/547.bba8e3e4.js"><link rel="prefetch" href="/assets/js/548.95b21795.js"><link rel="prefetch" href="/assets/js/549.c74d48bd.js"><link rel="prefetch" href="/assets/js/55.d6eaf4d9.js"><link rel="prefetch" href="/assets/js/550.885cabe1.js"><link rel="prefetch" href="/assets/js/551.b561edcf.js"><link rel="prefetch" href="/assets/js/552.66c37f6e.js"><link rel="prefetch" href="/assets/js/553.bdcb642d.js"><link rel="prefetch" href="/assets/js/554.7e7f3dab.js"><link rel="prefetch" href="/assets/js/555.a6c6cfe1.js"><link rel="prefetch" href="/assets/js/556.fd61479d.js"><link rel="prefetch" href="/assets/js/557.f2f8284d.js"><link rel="prefetch" href="/assets/js/558.8ff6f634.js"><link rel="prefetch" href="/assets/js/559.44df72eb.js"><link rel="prefetch" href="/assets/js/56.3f07c495.js"><link rel="prefetch" href="/assets/js/560.f4c26637.js"><link rel="prefetch" href="/assets/js/561.7180bea4.js"><link rel="prefetch" href="/assets/js/562.1371b5aa.js"><link rel="prefetch" href="/assets/js/563.34ec819f.js"><link rel="prefetch" href="/assets/js/564.50dfab05.js"><link rel="prefetch" href="/assets/js/565.34ac73c5.js"><link rel="prefetch" href="/assets/js/566.993e3275.js"><link rel="prefetch" href="/assets/js/567.4b28a54f.js"><link rel="prefetch" href="/assets/js/568.f5d762ad.js"><link rel="prefetch" href="/assets/js/569.84babc10.js"><link rel="prefetch" href="/assets/js/57.e69ba149.js"><link rel="prefetch" href="/assets/js/570.3bf921f3.js"><link rel="prefetch" href="/assets/js/571.047fd59b.js"><link rel="prefetch" href="/assets/js/572.a5321e49.js"><link rel="prefetch" href="/assets/js/573.3b3b5a87.js"><link rel="prefetch" href="/assets/js/574.5551690e.js"><link rel="prefetch" href="/assets/js/575.90c839c0.js"><link rel="prefetch" href="/assets/js/576.faba2b39.js"><link rel="prefetch" href="/assets/js/577.f0fcae9d.js"><link rel="prefetch" href="/assets/js/578.0b73ebdd.js"><link rel="prefetch" href="/assets/js/579.33a3edcc.js"><link rel="prefetch" href="/assets/js/58.267699cc.js"><link rel="prefetch" href="/assets/js/580.2489778c.js"><link rel="prefetch" href="/assets/js/581.b0d8b919.js"><link rel="prefetch" href="/assets/js/582.2456601d.js"><link rel="prefetch" href="/assets/js/583.b3f2c7ce.js"><link rel="prefetch" href="/assets/js/584.e42dc7c7.js"><link rel="prefetch" href="/assets/js/585.166c7a8a.js"><link rel="prefetch" href="/assets/js/586.d054a4c9.js"><link rel="prefetch" href="/assets/js/587.3f437224.js"><link rel="prefetch" href="/assets/js/588.81db4489.js"><link rel="prefetch" href="/assets/js/589.1f8b7357.js"><link rel="prefetch" href="/assets/js/59.138ded7d.js"><link rel="prefetch" href="/assets/js/590.2ecdbd05.js"><link rel="prefetch" href="/assets/js/591.1bc71b55.js"><link rel="prefetch" href="/assets/js/592.2ceb86f0.js"><link rel="prefetch" href="/assets/js/593.1dceaf2b.js"><link rel="prefetch" href="/assets/js/594.09bf3bb4.js"><link rel="prefetch" href="/assets/js/595.71287782.js"><link rel="prefetch" href="/assets/js/596.85688f2f.js"><link rel="prefetch" href="/assets/js/597.9bae07d8.js"><link rel="prefetch" href="/assets/js/598.b22d746c.js"><link rel="prefetch" href="/assets/js/599.7b5a13f6.js"><link rel="prefetch" href="/assets/js/6.4bffc0f6.js"><link rel="prefetch" href="/assets/js/60.03b75527.js"><link rel="prefetch" href="/assets/js/600.6d305595.js"><link rel="prefetch" href="/assets/js/601.3aeb18c7.js"><link rel="prefetch" href="/assets/js/602.c1910961.js"><link rel="prefetch" href="/assets/js/603.0e22684d.js"><link rel="prefetch" href="/assets/js/604.19742030.js"><link rel="prefetch" href="/assets/js/605.5b81364f.js"><link rel="prefetch" href="/assets/js/606.ac513a82.js"><link rel="prefetch" href="/assets/js/607.375dbd0b.js"><link rel="prefetch" href="/assets/js/608.268be409.js"><link rel="prefetch" href="/assets/js/609.86d3a1d8.js"><link rel="prefetch" href="/assets/js/61.f734350a.js"><link rel="prefetch" href="/assets/js/610.425faefd.js"><link rel="prefetch" href="/assets/js/611.53e1cf48.js"><link rel="prefetch" href="/assets/js/612.1db85534.js"><link rel="prefetch" href="/assets/js/613.6ee05806.js"><link rel="prefetch" href="/assets/js/614.6ac8bab1.js"><link rel="prefetch" href="/assets/js/615.38525843.js"><link rel="prefetch" href="/assets/js/616.2bfaa831.js"><link rel="prefetch" href="/assets/js/617.627a3952.js"><link rel="prefetch" href="/assets/js/618.7c06e17f.js"><link rel="prefetch" href="/assets/js/619.d19cb783.js"><link rel="prefetch" href="/assets/js/62.f2c0bf98.js"><link rel="prefetch" href="/assets/js/620.afbf9c77.js"><link rel="prefetch" href="/assets/js/621.3e4df4b4.js"><link rel="prefetch" href="/assets/js/622.d04d96bc.js"><link rel="prefetch" href="/assets/js/623.0eb95822.js"><link rel="prefetch" href="/assets/js/624.728507b7.js"><link rel="prefetch" href="/assets/js/625.8da5f45a.js"><link rel="prefetch" href="/assets/js/626.5a2bec8a.js"><link rel="prefetch" href="/assets/js/627.d860d0a5.js"><link rel="prefetch" href="/assets/js/628.682337c0.js"><link rel="prefetch" href="/assets/js/629.0aef6636.js"><link rel="prefetch" href="/assets/js/63.53b12a10.js"><link rel="prefetch" href="/assets/js/630.5492bac5.js"><link rel="prefetch" href="/assets/js/631.3d4539ab.js"><link rel="prefetch" href="/assets/js/632.a750491a.js"><link rel="prefetch" href="/assets/js/633.eb7669f8.js"><link rel="prefetch" href="/assets/js/634.3b082b6e.js"><link rel="prefetch" href="/assets/js/635.b66642a4.js"><link rel="prefetch" href="/assets/js/636.3a91d9e3.js"><link rel="prefetch" href="/assets/js/637.b0c793f6.js"><link rel="prefetch" href="/assets/js/638.88f7d37a.js"><link rel="prefetch" href="/assets/js/639.d570216e.js"><link rel="prefetch" href="/assets/js/64.76a89874.js"><link rel="prefetch" href="/assets/js/640.f7c635eb.js"><link rel="prefetch" href="/assets/js/641.777b4b70.js"><link rel="prefetch" href="/assets/js/642.163ddd00.js"><link rel="prefetch" href="/assets/js/643.3a5cd967.js"><link rel="prefetch" href="/assets/js/644.af186e38.js"><link rel="prefetch" href="/assets/js/645.10d03398.js"><link rel="prefetch" href="/assets/js/646.63fde710.js"><link rel="prefetch" href="/assets/js/647.c1e27a30.js"><link rel="prefetch" href="/assets/js/648.638590e1.js"><link rel="prefetch" href="/assets/js/649.f403e306.js"><link rel="prefetch" href="/assets/js/65.c3272fb0.js"><link rel="prefetch" href="/assets/js/650.5cf5241f.js"><link rel="prefetch" href="/assets/js/651.bfc404d6.js"><link rel="prefetch" href="/assets/js/652.139567f7.js"><link rel="prefetch" href="/assets/js/653.fde518ed.js"><link rel="prefetch" href="/assets/js/654.31dd1c9a.js"><link rel="prefetch" href="/assets/js/655.f175de67.js"><link rel="prefetch" href="/assets/js/656.e6f03e14.js"><link rel="prefetch" href="/assets/js/657.d2e9af15.js"><link rel="prefetch" href="/assets/js/658.f816e6b3.js"><link rel="prefetch" href="/assets/js/659.361be46a.js"><link rel="prefetch" href="/assets/js/66.6dddbcf3.js"><link rel="prefetch" href="/assets/js/660.8245db0e.js"><link rel="prefetch" href="/assets/js/661.c8aabf6f.js"><link rel="prefetch" href="/assets/js/662.a1b3ce25.js"><link rel="prefetch" href="/assets/js/663.9962e53a.js"><link rel="prefetch" href="/assets/js/664.00cbd5f6.js"><link rel="prefetch" href="/assets/js/665.ae5c00c1.js"><link rel="prefetch" href="/assets/js/666.86b65410.js"><link rel="prefetch" href="/assets/js/667.21d67355.js"><link rel="prefetch" href="/assets/js/668.a49d8cbc.js"><link rel="prefetch" href="/assets/js/67.63d6c318.js"><link rel="prefetch" href="/assets/js/670.a116c67f.js"><link rel="prefetch" href="/assets/js/671.4af6e5ec.js"><link rel="prefetch" href="/assets/js/672.abf9484a.js"><link rel="prefetch" href="/assets/js/673.f7ea4559.js"><link rel="prefetch" href="/assets/js/674.3cb4300e.js"><link rel="prefetch" href="/assets/js/675.2a2bb5b3.js"><link rel="prefetch" href="/assets/js/676.a8bb00a4.js"><link rel="prefetch" href="/assets/js/677.27d3e28a.js"><link rel="prefetch" href="/assets/js/678.62af25cd.js"><link rel="prefetch" href="/assets/js/679.413648ba.js"><link rel="prefetch" href="/assets/js/68.a0912f18.js"><link rel="prefetch" href="/assets/js/69.8d825a7b.js"><link rel="prefetch" href="/assets/js/7.5f19d6df.js"><link rel="prefetch" href="/assets/js/70.47f31d50.js"><link rel="prefetch" href="/assets/js/71.e0d847e1.js"><link rel="prefetch" href="/assets/js/72.bc33c05f.js"><link rel="prefetch" href="/assets/js/73.d2722d07.js"><link rel="prefetch" href="/assets/js/74.2814dde2.js"><link rel="prefetch" href="/assets/js/75.d21bfd8a.js"><link rel="prefetch" href="/assets/js/76.c6b4a4dc.js"><link rel="prefetch" href="/assets/js/77.655aede0.js"><link rel="prefetch" href="/assets/js/78.e129867e.js"><link rel="prefetch" href="/assets/js/79.67881840.js"><link rel="prefetch" href="/assets/js/8.a338867b.js"><link rel="prefetch" href="/assets/js/80.339fc4a3.js"><link rel="prefetch" href="/assets/js/81.ea95ebbd.js"><link rel="prefetch" href="/assets/js/82.fec45e55.js"><link rel="prefetch" href="/assets/js/83.cd9e0095.js"><link rel="prefetch" href="/assets/js/84.271035e4.js"><link rel="prefetch" href="/assets/js/85.c8208076.js"><link rel="prefetch" href="/assets/js/86.fd8db122.js"><link rel="prefetch" href="/assets/js/87.cbfab722.js"><link rel="prefetch" href="/assets/js/88.170e26bb.js"><link rel="prefetch" href="/assets/js/89.c3436497.js"><link rel="prefetch" href="/assets/js/9.df9c21f5.js"><link rel="prefetch" href="/assets/js/90.088465cf.js"><link rel="prefetch" href="/assets/js/91.5d4b7beb.js"><link rel="prefetch" href="/assets/js/92.df2aab19.js"><link rel="prefetch" href="/assets/js/93.beb5d578.js"><link rel="prefetch" href="/assets/js/94.c4f7f8c1.js"><link rel="prefetch" href="/assets/js/95.d39fd648.js"><link rel="prefetch" href="/assets/js/96.1a4ec292.js"><link rel="prefetch" href="/assets/js/97.eedf915c.js"><link rel="prefetch" href="/assets/js/98.175a92a1.js"><link rel="prefetch" href="/assets/js/99.b61f6b68.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.bb2a08f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fdba499e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar --fluid"><div class="container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">
      Ts.ED
    </span></a> <div class="links"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getting-started.html" title="Getting started | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="nav-link">Getting started</a></div><div class="nav-item"><a href="/configuration.html" title="Configuration | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="nav-link">Configuration</a></div><div class="nav-item"><div class="dropdown-wrapper"><a title="Documentation | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Overview</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/controllers.html" class="nav-link">
              Controllers
            </a></li><li class="dropdown-subitem"><a href="/docs/providers.html" class="nav-link">
              Providers
            </a></li><li class="dropdown-subitem"><a href="/docs/model.html" class="nav-link">
              Models
            </a></li><li class="dropdown-subitem"><a href="/docs/converters.html" class="nav-link">
              Converters
            </a></li><li class="dropdown-subitem"><a href="/docs/middlewares.html" class="nav-link">
              Middlewares
            </a></li><li class="dropdown-subitem"><a href="/docs/filters.html" class="nav-link">
              Filters
            </a></li><li class="dropdown-subitem"><a href="/docs/interceptors.html" class="nav-link">
              Interceptors
            </a></li><li class="dropdown-subitem"><a href="/docs/authentication.html" class="nav-link">
              Authentication
            </a></li><li class="dropdown-subitem"><a href="/docs/hooks.html" class="nav-link">
              Hooks
            </a></li><li class="dropdown-subitem"><a href="/docs/exceptions.html" class="nav-link">
              Exceptions
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/request-data-persistence.html" class="nav-link">
              Request data persistence
            </a></li><li class="dropdown-subitem"><a href="/docs/injection-scopes.html" class="nav-link">
              Injection scopes
            </a></li><li class="dropdown-subitem"><a href="/docs/custom-providers.html" class="nav-link">
              Custom providers
            </a></li><li class="dropdown-subitem"><a href="/docs/custom-endpoint-decorators.html" class="nav-link">
              Custom endpoint decorators
            </a></li><li class="dropdown-subitem"><a href="/docs/testing.html" class="nav-link">
              Testing
            </a></li><li class="dropdown-subitem"><a href="/api.html" class="nav-link">
              Api Reference
            </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a title="Guide | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tutorials/" class="nav-link router-link-active">
          Examples
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/session.html" class="nav-link">
          Session &amp; cookies
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/passport.html" class="nav-link">
          Passport.js
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/typeorm.html" class="nav-link">
          TypeORM
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/mongoose.html" class="nav-link router-link-exact-active router-link-active">
          Mongoose
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/graphql.html" class="nav-link">
          GraphQL
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/seq.html" class="nav-link">
          Seq
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/socket-io.html" class="nav-link">
          Socket.io
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/swagger.html" class="nav-link">
          Swagger
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/ajv.html" class="nav-link">
          Validation with AJV
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/multer.html" class="nav-link">
          Upload files
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/serve-static-files.html" class="nav-link">
          Serve static files
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/templating.html" class="nav-link">
          Templating
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/throw-http-exceptions.html" class="nav-link">
          Throw HTTP exceptions
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/not-found-page.html" class="nav-link">
          Customize 404
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/aws.html" class="nav-link">
          AWS project
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/jest.html" class="nav-link">
          Jest
        </a></li></ul></div></div><div class="nav-item"><a href="http://v4.tsed.io" target="_blank" rel="noopener noreferrer" class="nav-link external">4.x</a></div></nav> <div class="links-external"><!----> <div class="links-external-item"><a href="https://github.com/TypedProject/tsed" title="Github" target="_blank" rel="noopener noreferrer" class="repo-link"><svg aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg class="svg-inline--fa fa-github fa-w-16"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div> <div class="links-external-item"><a href="https://stackoverflow.com/questions/tagged/tsed" title="Stackoverflow" target="_blank" rel="noopener noreferrer" class="stackoverflow-link"><svg aria-hidden="true" data-prefix="fab" data-icon="stack-overflow" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg class="svg-inline--fa fa-stack-overflow fa-w-12"><path fill="currentColor" d="M293.7 300l-181.2-84.5 16.7-36.5 181.3 84.7-16.8 36.3zm48-76L188.2 95.7l-25.5 30.8 153.5 128.3 25.5-30.8zm39.6-31.7L262 32l-32 24 119.3 160.3 32-24zM290.7 311L95 269.7 86.8 309l195.7 41 8.2-39zm31.6 129H42.7V320h-40v160h359.5V320h-40v120zm-39.8-80h-200v39.7h200V360z"></path></svg></a></div> <div class="links-external-item"><a href="https://gitter.im/Tsed-io/community" title="Gitter tchat room" target="_blank" rel="noopener noreferrer" class="gitter-link"><svg version="1.1" role="img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25 25" class="svg-inline--fa fa-gitter fa-w-16"><rect x="15" y="5" width="2" height="10"></rect> <rect x="10" y="5" width="2" height="20"></rect> <rect x="5" y="5" width="2" height="20"></rect> <rect width="2" height="15"></rect></svg></a></div> <div class="links-external-item"><a href="https://opencollective.com/tsed" title="Sponsor" target="_blank" rel="noopener noreferrer" class="sponsor-link"><svg viewBox="0 0 14 16" version="1.1" aria-hidden="true" class="octicon octicon-heart text-pink v-align-middle"><path fill-rule="evenodd" d="M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z"></path></svg></a></div></div></div></div></header> <main class="main-content"><div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getting-started.html" title="Getting started | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="nav-link">Getting started</a></div><div class="nav-item"><a href="/configuration.html" title="Configuration | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="nav-link">Configuration</a></div><div class="nav-item"><div class="dropdown-wrapper"><a title="Documentation | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Overview</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/controllers.html" class="nav-link">
              Controllers
            </a></li><li class="dropdown-subitem"><a href="/docs/providers.html" class="nav-link">
              Providers
            </a></li><li class="dropdown-subitem"><a href="/docs/model.html" class="nav-link">
              Models
            </a></li><li class="dropdown-subitem"><a href="/docs/converters.html" class="nav-link">
              Converters
            </a></li><li class="dropdown-subitem"><a href="/docs/middlewares.html" class="nav-link">
              Middlewares
            </a></li><li class="dropdown-subitem"><a href="/docs/filters.html" class="nav-link">
              Filters
            </a></li><li class="dropdown-subitem"><a href="/docs/interceptors.html" class="nav-link">
              Interceptors
            </a></li><li class="dropdown-subitem"><a href="/docs/authentication.html" class="nav-link">
              Authentication
            </a></li><li class="dropdown-subitem"><a href="/docs/hooks.html" class="nav-link">
              Hooks
            </a></li><li class="dropdown-subitem"><a href="/docs/exceptions.html" class="nav-link">
              Exceptions
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/request-data-persistence.html" class="nav-link">
              Request data persistence
            </a></li><li class="dropdown-subitem"><a href="/docs/injection-scopes.html" class="nav-link">
              Injection scopes
            </a></li><li class="dropdown-subitem"><a href="/docs/custom-providers.html" class="nav-link">
              Custom providers
            </a></li><li class="dropdown-subitem"><a href="/docs/custom-endpoint-decorators.html" class="nav-link">
              Custom endpoint decorators
            </a></li><li class="dropdown-subitem"><a href="/docs/testing.html" class="nav-link">
              Testing
            </a></li><li class="dropdown-subitem"><a href="/api.html" class="nav-link">
              Api Reference
            </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a title="Guide | Ts.ED - A Node.js and TypeScript Framework on top of Express." class="dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tutorials/" class="nav-link router-link-active">
          Examples
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/session.html" class="nav-link">
          Session &amp; cookies
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/passport.html" class="nav-link">
          Passport.js
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/typeorm.html" class="nav-link">
          TypeORM
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/mongoose.html" class="nav-link router-link-exact-active router-link-active">
          Mongoose
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/graphql.html" class="nav-link">
          GraphQL
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/seq.html" class="nav-link">
          Seq
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/socket-io.html" class="nav-link">
          Socket.io
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/swagger.html" class="nav-link">
          Swagger
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/ajv.html" class="nav-link">
          Validation with AJV
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/multer.html" class="nav-link">
          Upload files
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/serve-static-files.html" class="nav-link">
          Serve static files
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/templating.html" class="nav-link">
          Templating
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/throw-http-exceptions.html" class="nav-link">
          Throw HTTP exceptions
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/not-found-page.html" class="nav-link">
          Customize 404
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/aws.html" class="nav-link">
          AWS project
        </a></li><li class="dropdown-item"><!----> <a href="/tutorials/jest.html" class="nav-link">
          Jest
        </a></li></ul></div></div><div class="nav-item"><a href="http://v4.tsed.io" target="_blank" rel="noopener noreferrer" class="nav-link external">4.x</a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/" class="sidebar-link">Examples</a></li><li><a href="/tutorials/session.html" class="sidebar-link">Session &amp; cookies</a></li><li><a href="/tutorials/passport.html" class="sidebar-link">Passport.js</a></li><li><a href="/tutorials/typeorm.html" class="sidebar-link">TypeORM</a></li><li><a href="/tutorials/mongoose.html" class="active sidebar-link">Mongoose</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#feature" class="sidebar-link">Feature</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#mongooseservice" class="sidebar-link">MongooseService</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#declaring-a-mongoose-object-schema-or-model" class="sidebar-link">Declaring a mongoose object (schema or model)</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#register-hook" class="sidebar-link">Register hook</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#plugin" class="sidebar-link">Plugin</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#inject-model" class="sidebar-link">Inject model</a></li><li class="sidebar-sub-header"><a href="/tutorials/mongoose.html#testing" class="sidebar-link">Testing</a></li></ul></li><li><a href="/tutorials/graphql.html" class="sidebar-link">GraphQL</a></li><li><a href="/tutorials/socket-io.html" class="sidebar-link">Socket.io</a></li><li><a href="/tutorials/seq.html" class="sidebar-link">Seq</a></li><li><a href="/tutorials/swagger.html" class="sidebar-link">Swagger</a></li><li><a href="/tutorials/ajv.html" class="sidebar-link">AJV</a></li><li><a href="/tutorials/custom-validator.html" class="sidebar-link">Custom validator</a></li><li><a href="/tutorials/multer.html" class="sidebar-link">Multer</a></li><li><a href="/tutorials/serve-static-files.html" class="sidebar-link">Serve static files</a></li><li><a href="/tutorials/templating.html" class="sidebar-link">Templating</a></li><li><a href="/tutorials/throw-http-exceptions.html" class="sidebar-link">Throw HTTP Exceptions</a></li><li><a href="/tutorials/not-found-page.html" class="sidebar-link">Customize 404</a></li><li><a href="/tutorials/aws.html" class="sidebar-link">AWS</a></li><li><a href="/tutorials/jest.html" class="sidebar-link">Jest</a></li></ul></div></li></ul> </aside> <div class="page"><article class="container"> <div class="content__default"><h1 id="mongoose"><a href="#mongoose" class="header-anchor">#</a> Mongoose <span class="badge tip" style="vertical-align:top;" data-v-2fb5e6d2>Contributors are welcome</span></h1> <div class="banner"><a href="http://mongoosejs.com/" style="min-width:128px;"><img src="http://mongodb-tools.com/img/mongoose.png" height="128"></a></div> <p>This tutorials show you, how you can use mongoose package with Ts.ED.</p> <ul class="projects"><li class="projects__badge"><a href="https://github.com/TypedProject/tsed-example-mongoose" target="_blank" title="Kit Mongoose"><img src="/mongoose.png"> <span>Kit Mongoose</span></a></li></ul> <h2 id="feature"><a href="#feature" class="header-anchor">#</a> Feature</h2> <p>Currently, <a href="https://www.npmjs.com/package/@tsed/mongoose" target="_blank" rel="noopener noreferrer"><code>@tsed/mongoose</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allows you:</p> <ul><li>Configure one or more MongoDB database connections via the <code>@ServerSettings</code> configuration.
All databases will be initialized when the server starts during the server's <code>OnInit</code> phase.</li> <li>Declare a Model from a class with annotation,</li> <li>Add a plugin, PreHook method and PostHook on your model.</li> <li>Inject a Model to a Service, Controller, Middleware, etc...</li> <li>Create and manage multiple connections <span class="badge tip" style="vertical-align:top;" data-v-2fb5e6d2>v5.35.0</span></li></ul> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p><code>@tsed/mongoose</code> use the JsonSchema and his decorators to generate the mongoose schema.</p></div> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Before using the <code>@tsed/mongoose</code> package, we need to install the <a href="https://www.npmjs.com/package/mongoose" target="_blank" rel="noopener noreferrer">mongoose<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> module.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save mongoose
<span class="token function">npm</span> <span class="token function">install</span> --save @tsed/mongoose
<span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/mongoose
<span class="token function">npm</span> <span class="token function">install</span> --save-dev @tsed/testing-mongoose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Then import <code>@tsed/mongoose</code> in your <a href="/api/common/server/components/ServerLoader.html">ServerLoader</a>:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>ServerLoader<span class="token punctuation">,</span> ServerSettings<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span> <span class="token comment">// import mongoose ts.ed module</span>

@<span class="token function">ServerSettings</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mongoose<span class="token operator">:</span> <span class="token punctuation">{</span>
    urls<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// Recommended: define default connection. All models without dbName will be assigned to this connection</span>
        url<span class="token operator">:</span> <span class="token string">&quot;mongodb://127.0.0.1:27017/default&quot;</span><span class="token punctuation">,</span>
        connectionOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      db2<span class="token operator">:</span> <span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&quot;mongodb://127.0.0.1:27017/db2&quot;</span><span class="token punctuation">,</span>
        connectionOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Server</span> <span class="token keyword">extends</span> <span class="token class-name">ServerLoader</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="mongooseservice"><a href="#mongooseservice" class="header-anchor">#</a> MongooseService</h2> <p><!----> let you to retrieve an instance of Mongoose.Connection.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Service<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MongooseService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Service</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">mongooseService<span class="token operator">:</span> MongooseService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">default</span> <span class="token operator">=</span> mongooseService<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OR mongooseService.get(&quot;default&quot;);</span>
    <span class="token comment">// GET Other connection</span>
    <span class="token keyword">const</span> db2 <span class="token operator">=</span> mongooseService<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'db2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <p>Ts.ED give some decorators and service to write your code:</p> <ul class="api-list"><li class="api-item"><a href="/api/mongoose/decorators/DynamicRef.html" title="DynamicRef" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> DynamicRef</a></li><li class="api-item"><a href="/api/mongoose/decorators/Indexed.html" title="Indexed" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Indexed</a></li><li class="api-item"><a href="/api/mongoose/decorators/Model.html" title="Model" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Model</a></li><li class="api-item"><a href="/api/mongoose/decorators/MongooseIndex.html" title="MongooseIndex" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MongooseIndex</a></li><li class="api-item"><a href="/api/mongoose/decorators/MongoosePlugin.html" title="MongoosePlugin" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MongoosePlugin</a></li><li class="api-item"><a href="/api/mongoose/decorators/ObjectID.html" title="ObjectID" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> ObjectID</a></li><li class="api-item"><a href="/api/mongoose/decorators/PostHook.html" title="PostHook" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PostHook</a></li><li class="api-item"><a href="/api/mongoose/decorators/PreHookOptions.html" title="PreHookOptions" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PreHookOptions</a></li><li class="api-item"><a href="/api/mongoose/decorators/PreHook.html" title="PreHook" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PreHook</a></li><li class="api-item"><a href="/api/mongoose/decorators/Ref.html" title="Ref" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Ref</a></li><li class="api-item"><a href="/api/mongoose/decorators/Schema.html" title="Schema" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Schema</a></li><li class="api-item"><a href="/api/mongoose/decorators/MongooseSchema.html" title="MongooseSchema" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MongooseSchema</a></li><li class="api-item"><a href="/api/mongoose/decorators/SchemaIgnore.html" title="SchemaIgnore" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> SchemaIgnore</a></li><li class="api-item"><a href="/api/mongoose/decorators/Select.html" title="Select" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Select</a></li><li class="api-item"><a href="/api/mongoose/decorators/Trim.html" title="Trim" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Trim</a></li><li class="api-item"><a href="/api/mongoose/decorators/Unique.html" title="Unique" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Unique</a></li><li class="api-item"><a href="/api/mongoose/decorators/VirtualRef.html" title="VirtualRef" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> VirtualRef</a></li><li class="api-item"><a href="/api/mongoose/decorators/VirtualRefs.html" title="VirtualRefs" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> VirtualRefs</a></li></ul> <h2 id="declaring-a-mongoose-object-schema-or-model"><a href="#declaring-a-mongoose-object-schema-or-model" class="header-anchor">#</a> Declaring a mongoose object (schema or model)</h2> <h3 id="declaring-a-model"><a href="#declaring-a-model" class="header-anchor">#</a> Declaring a Model</h3> <p><code>@tsed/mongoose</code> works with models which must be explicitly declared.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Property<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  unique<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="declaring-a-model-to-a-specific-connection"><a href="#declaring-a-model-to-a-specific-connection" class="header-anchor">#</a> Declaring a Model to a specific connection</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Property<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  connection<span class="token operator">:</span> <span class="token string">&quot;db2&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  unique<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="declaring-a-schema"><a href="#declaring-a-schema" class="header-anchor">#</a> Declaring a Schema</h3> <p><code>@tsed/mongoose</code> supports subdocuments which must be explicitly declared.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Property<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Schema<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Schema</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  unique<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Schema decorator accept a second parameter to configure the Schema (See <a href="https://mongoosejs.com/docs/guide.html#options" target="_blank" rel="noopener noreferrer">Mongoose Schema<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p></div> <h3 id="declaring-properties"><a href="#declaring-properties" class="header-anchor">#</a> Declaring Properties</h3> <p>By default, <code>@tsed/mongoose</code> reuse the metadata stored by the decorators dedicated
to describe a JsonSchema. These decorators come from the <code>@tsed/common</code> package.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Default<span class="token punctuation">,</span>
  Enum<span class="token punctuation">,</span>
  Format<span class="token punctuation">,</span>
  IgnoreProperty<span class="token punctuation">,</span>
  Maximum<span class="token punctuation">,</span>
  MaxLength<span class="token punctuation">,</span>
  Minimum<span class="token punctuation">,</span>
  MinLength<span class="token punctuation">,</span>
  Pattern<span class="token punctuation">,</span>
  Required
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Indexed<span class="token punctuation">,</span> Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> Unique<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> Categories <span class="token punctuation">{</span>
  <span class="token constant">CAT1</span> <span class="token operator">=</span> <span class="token string">&quot;cat1&quot;</span><span class="token punctuation">,</span>
  <span class="token constant">CAT2</span> <span class="token operator">=</span> <span class="token string">&quot;cat2&quot;</span>
<span class="token punctuation">}</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">IgnoreProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// exclude _id from mongoose in the generated schema</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token comment">// Or rename _id by id (for response sent to the client)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  unique<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Indexed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">MinLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  @<span class="token function">MaxLength</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
  indexed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Minimum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  @<span class="token function">Maximum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
  @<span class="token function">Default</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  rate<span class="token operator">:</span> Number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  @<span class="token function">Enum</span><span class="token punctuation">(</span>Categories<span class="token punctuation">)</span>
    <span class="token comment">// or @Enum(&quot;type1&quot;, &quot;type2&quot;)</span>
  category<span class="token operator">:</span> Categories<span class="token punctuation">;</span>

  @<span class="token function">Pattern</span><span class="token punctuation">(</span><span class="token regex">/[a-z]/</span><span class="token punctuation">)</span> <span class="token comment">// equivalent of match field in mongoose</span>
  pattern<span class="token operator">:</span> String<span class="token punctuation">;</span>

  @<span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;date-time&quot;</span><span class="token punctuation">)</span>
  @<span class="token function">Default</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">)</span>
  dateCreation<span class="token operator">:</span> Date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Isn't necessary to use <!----> decorator on property when you use one of theses decorators:</p> <ul class="api-list"><li class="api-item"><a href="/api/mongoose/decorators/DynamicRef.html" title="DynamicRef" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> DynamicRef</a></li><li class="api-item"><a href="/api/mongoose/decorators/Indexed.html" title="Indexed" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Indexed</a></li><li class="api-item"><a href="/api/mongoose/decorators/ObjectID.html" title="ObjectID" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> ObjectID</a></li><li class="api-item"><a href="/api/mongoose/decorators/Ref.html" title="Ref" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Ref</a></li><li class="api-item"><a href="/api/mongoose/decorators/Schema.html" title="Schema" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Schema</a></li><li class="api-item"><a href="/api/mongoose/decorators/MongooseSchema.html" title="MongooseSchema" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MongooseSchema</a></li><li class="api-item"><a href="/api/mongoose/decorators/Select.html" title="Select" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Select</a></li><li class="api-item"><a href="/api/mongoose/decorators/Trim.html" title="Trim" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Trim</a></li><li class="api-item"><a href="/api/mongoose/decorators/VirtualRef.html" title="VirtualRef" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> VirtualRef</a></li><li class="api-item"><a href="/api/swagger/decorators/Description.html" title="Description" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Description</a></li><li class="api-item"><a href="/api/swagger/decorators/Example.html" title="Example" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Example</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/AllowTypes.html" title="AllowTypes" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> AllowTypes</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Default.html" title="Default" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Default</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Email.html" title="Email" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Email</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Enum.html" title="Enum" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Enum</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/ExclusiveMaximum.html" title="ExclusiveMaximum" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> ExclusiveMaximum</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/ExclusiveMinimum.html" title="ExclusiveMinimum" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> ExclusiveMinimum</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Format.html" title="Format" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Format</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MaxItems.html" title="MaxItems" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MaxItems</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MaxLength.html" title="MaxLength" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MaxLength</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MaxProperties.html" title="MaxProperties" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MaxProperties</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Maximum.html" title="Maximum" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Maximum</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MinItems.html" title="MinItems" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MinItems</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MinLength.html" title="MinLength" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MinLength</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MinProperties.html" title="MinProperties" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MinProperties</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Minimum.html" title="Minimum" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Minimum</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/MultipleOf.html" title="MultipleOf" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> MultipleOf</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Pattern.html" title="Pattern" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Pattern</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/PropertyFn.html" title="PropertyFn" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PropertyFn</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/PropertyDeserialize.html" title="PropertyDeserialize" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PropertyDeserialize</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/PropertyName.html" title="PropertyName" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PropertyName</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/PropertySerialize.html" title="PropertySerialize" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PropertySerialize</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/PropertyType.html" title="PropertyType" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> PropertyType</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/Title.html" title="Title" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> Title</a></li><li class="api-item"><a href="/api/common/jsonschema/decorators/UniqueItems.html" title="UniqueItems" class="symbol-container symbol-type-decorator"><span class="symbol decorator"></span> UniqueItems</a></li></ul> <p>Theses decorators call automatically <!----> decorator.</p></div> <h3 id="collections"><a href="#collections" class="header-anchor">#</a> Collections</h3> <p>Mongoose and <code>@tsed/mongoose</code> supports both list and map.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>PropertyType<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">PropertyType</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span>
  list<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  @<span class="token function">PropertyType</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span>
  map<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// key must be a string.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="subdocuments"><a href="#subdocuments" class="header-anchor">#</a> Subdocuments</h3> <p><code>@tsed/mongoose</code> supports <code>mongoose</code> subdocuments as long as they are defined schema. Therefore, subdocuments must be decorated by <code>@Schema()</code>.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Property<span class="token punctuation">,</span> PropertyType<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> Schema<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Schema</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MySchema</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  schema<span class="token operator">:</span> MySchema<span class="token punctuation">;</span>

  @<span class="token function">PropertyType</span><span class="token punctuation">(</span>MySchema<span class="token punctuation">)</span>
  schemes<span class="token operator">:</span> MySchema<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="references"><a href="#references" class="header-anchor">#</a> References</h3> <p><code>@tsed/mongoose</code> supports <code>mongoose</code> references between defined models.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> Ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyRef</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">Ref</span><span class="token punctuation">(</span>MyRef<span class="token punctuation">)</span>
  ref<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>MyRef<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  @<span class="token function">Ref</span><span class="token punctuation">(</span>MyRef<span class="token punctuation">)</span>
  refs<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>MyRef<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  @<span class="token function">Ref</span><span class="token punctuation">(</span>MyRef<span class="token punctuation">)</span>
  refs<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> MyRef<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="virtual-references"><a href="#virtual-references" class="header-anchor">#</a> Virtual References</h3> <p><code>@tsed/mongoose</code> supports <code>mongoose</code> virtual references between defined models.</p> <p>Be wary of circular dependencies. Direct references must be declared after the refered class has been declared. This mean the virtual reference cannot know the refered class directly at runtime. Type definitions removed at transpilation are fine.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> VirtualRef<span class="token punctuation">,</span> VirtualRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyRef</span> <span class="token punctuation">{</span>
  @<span class="token function">VirtualRef</span><span class="token punctuation">(</span><span class="token string">&quot;MyModel&quot;</span><span class="token punctuation">)</span>
  virtual<span class="token operator">:</span> VirtualRef<span class="token operator">&lt;</span>MyModel<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  @<span class="token function">VirtualRef</span><span class="token punctuation">(</span><span class="token string">&quot;MyModel&quot;</span><span class="token punctuation">)</span>
  virtuals<span class="token operator">:</span> VirtualRefs<span class="token operator">&lt;</span>MyModel<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">{</span>
  @<span class="token function">Ref</span><span class="token punctuation">(</span>MyRef<span class="token punctuation">)</span>
  ref<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>MyRef<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="dynamic-references"><a href="#dynamic-references" class="header-anchor">#</a> Dynamic References</h3> <p><code>@tsed/mongoose</code> supports <code>mongoose</code> dynamic references between defined models.</p> <p>This works by having a field with the referenced object model's name and a field with the referenced field.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> DynamicRef<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Enum<span class="token punctuation">,</span> Required<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DynamicRef</span> <span class="token punctuation">{</span>
    @<span class="token function">DynamicRef</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span>
    dynamicRef<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>ModelA <span class="token operator">|</span> ModelB<span class="token operator">&gt;</span>

    @<span class="token function">Enum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Mode lA'</span><span class="token punctuation">,</span> <span class="token string">'ModelB'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
    <span class="token keyword">type</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// This field has to match the referenced model's name</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="register-hook"><a href="#register-hook" class="header-anchor">#</a> Register hook</h2> <p>Mongoose allows the developer to add pre and post <a href="http://mongoosejs.com/docs/middleware.html" target="_blank" rel="noopener noreferrer">hooks / middlewares<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to the schema.
With this it is possible to add document transformations and observations before or after validation, save and more.</p> <p>Ts.ED provide class decorator to register middlewares on the pre and post hook.</p> <h3 id="pre-hook"><a href="#pre-hook" class="header-anchor">#</a> Pre hook</h3> <p>We can simply attach a <!----> decorator to your model class and
define the hook function like you normally would in Mongoose.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Required<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> PreHook<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
@<span class="token function">PreHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">car<span class="token operator">:</span> CarModel<span class="token punctuation">,</span> next<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>car<span class="token punctuation">.</span>model <span class="token operator">===</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    car<span class="token punctuation">.</span>isFast <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CarModel</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  model<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  isFast<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

  <span class="token comment">// or Prehook on static method</span>
  @<span class="token function">PreHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">preSave</span><span class="token punctuation">(</span><span class="token parameter">car<span class="token operator">:</span> CarModel<span class="token punctuation">,</span> next<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>car<span class="token punctuation">.</span>model <span class="token operator">===</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      car<span class="token punctuation">.</span>isFast <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>This will execute the pre-save hook each time a <code>CarModel</code> document is saved.</p> <h3 id="post-hook"><a href="#post-hook" class="header-anchor">#</a> Post hook</h3> <p>We can simply attach a <!----> decorator to your model class and
define the hook function like you normally would in Mongoose.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Required<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> PostHook<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
@<span class="token function">PostHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">car<span class="token operator">:</span> CarModel</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>car<span class="token punctuation">.</span>topSpeedInKmH <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>model<span class="token punctuation">,</span> <span class="token string">&quot;is fast!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CarModel</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  model<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  isFast<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

  <span class="token comment">// or Prehook on static method</span>
  @<span class="token function">PostHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">postSave</span><span class="token punctuation">(</span><span class="token parameter">car<span class="token operator">:</span> CarModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>car<span class="token punctuation">.</span>topSpeedInKmH <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>model<span class="token punctuation">,</span> <span class="token string">&quot;is fast!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>This will execute the post-save hook each time a <code>CarModel</code> document is saved.</p> <h2 id="plugin"><a href="#plugin" class="header-anchor">#</a> Plugin</h2> <p>Using the <!----> decorator enables the developer to attach various Mongoose plugins to the schema.
Just like the regular <code>schema.plugin()</code> call, the decorator accepts 1 or 2 parameters: the plugin itself, and an optional configuration object.
Multiple <code>plugin</code> decorator can be used for a single model class.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Inject<span class="token punctuation">,</span> Service<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> MongooseModel<span class="token punctuation">,</span> MongoosePlugin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> findOrCreate <span class="token keyword">from</span> <span class="token string">&quot;mongoose-findorcreate&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>User<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./User&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
@<span class="token function">MongoosePlugin</span><span class="token punctuation">(</span>findOrCreate<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserModel</span> <span class="token punctuation">{</span>
  <span class="token comment">// this isn't the complete method signature, just an example</span>
  <span class="token keyword">static</span> <span class="token function">findOrCreate</span><span class="token punctuation">(</span>condition<span class="token operator">:</span> InstanceType<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span>doc<span class="token operator">:</span> InstanceType<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token punctuation">,</span> created<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Service</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">@<span class="token function">Inject</span><span class="token punctuation">(</span>UserModel<span class="token punctuation">)</span> userModel<span class="token operator">:</span> MongooseModel<span class="token operator">&lt;</span>UserModel<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    userModel
      <span class="token punctuation">.</span><span class="token function">findOrCreate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">findOrCreateResult</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="inject-model"><a href="#inject-model" class="header-anchor">#</a> Inject model</h2> <p>It's possible to inject a model into a Service (or Controller, Middleware, etc...):</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Inject<span class="token punctuation">,</span> Service<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MongooseModel<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MyModel<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./models/MyModel&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Service</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">@<span class="token function">Inject</span><span class="token punctuation">(</span>MyModel<span class="token punctuation">)</span> <span class="token keyword">private</span> model<span class="token operator">:</span> MongooseModel<span class="token operator">&lt;</span>MyModel<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mongoose.model class</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">save</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> MyModel<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>MongooseModel<span class="token operator">&lt;</span>MyModel<span class="token operator">&gt;&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> doc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">this<span class="token punctuation">.</span>model</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> doc<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> doc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> list<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can find a working example on <a href="https://github.com/TypedProject/tsed-example-mongoose" target="_blank" rel="noopener noreferrer">Mongoose here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h2 id="testing"><a href="#testing" class="header-anchor">#</a> Testing <span class="badge warn" style="vertical-align:top;" data-v-2fb5e6d2>beta</span> <span class="badge tip" style="vertical-align:top;" data-v-2fb5e6d2>v5.35.0</span></h2> <p>The package <a href="https://www.npmjs.com/package/@tsed/testing-mongoose" target="_blank" rel="noopener noreferrer"><code>@tsed/testing-mongoose</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allow you to test your server with a memory database.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This package use amazing <a href="https://www.npmjs.com/package/mongodb-memory-server" target="_blank" rel="noopener noreferrer">mongodb-memory-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to mock the mongo database.</p></div> <h3 id="testing-api"><a href="#testing-api" class="header-anchor">#</a> Testing API</h3> <p>This example show you how you can test your Rest API with superagent and a mocked mongo database:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>ExpressApplication<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TestContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/testing&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TestMongooseContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/testing-mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>expect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;chai&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> SuperTest <span class="token keyword">from</span> <span class="token string">&quot;supertest&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Server<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../Server&quot;</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Rest&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// bootstrap your Server to load all endpoints before run your test</span>
  <span class="token keyword">let</span> request<span class="token operator">:</span> SuperTest<span class="token punctuation">.</span>SuperTest<span class="token operator">&lt;</span>SuperTest<span class="token punctuation">.</span>Test<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token function">before</span><span class="token punctuation">(</span>TestMongooseContext<span class="token punctuation">.</span><span class="token function">bootstrap</span><span class="token punctuation">(</span>Server<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Create a server with mocked database</span>
  <span class="token function">before</span><span class="token punctuation">(</span>TestContext<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ExpressApplication<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expressApplication<span class="token operator">:</span> ExpressApplication</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    request <span class="token operator">=</span> <span class="token function">SuperTest</span><span class="token punctuation">(</span>expressApplication<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">after</span><span class="token punctuation">(</span>TestMongooseContext<span class="token punctuation">.</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reset database and injector</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;GET /rest/calendars&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should do something&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/rest/calendars&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">an</span><span class="token punctuation">(</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="testing-model"><a href="#testing-model" class="header-anchor">#</a> Testing Model</h3> <p>This example show you how can test the model:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Property<span class="token punctuation">,</span> Required<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Model<span class="token punctuation">,</span> MongooseModel<span class="token punctuation">,</span> ObjectID<span class="token punctuation">,</span> PostHook<span class="token punctuation">,</span> PreHook<span class="token punctuation">,</span> Unique<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TestMongooseContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/testing-mongoose&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>expect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;chai&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>schemaOptions<span class="token operator">:</span> <span class="token punctuation">{</span>timestamps<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
@<span class="token function">PreHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">user<span class="token operator">:</span> TestUser<span class="token punctuation">,</span> next<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token string">&quot;hello pre&quot;</span><span class="token punctuation">;</span>

  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
@<span class="token function">PostHook</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">user<span class="token operator">:</span> TestUser<span class="token punctuation">,</span> next<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span>post <span class="token operator">=</span> <span class="token string">&quot;hello post&quot;</span><span class="token punctuation">;</span>

  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestUser</span> <span class="token punctuation">{</span>
  @<span class="token function">ObjectID</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">Required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">Unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  pre<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  post<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;UserModel&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span>TestMongooseContext<span class="token punctuation">.</span>create<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">afterEach</span><span class="token punctuation">(</span>TestMongooseContext<span class="token punctuation">.</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should run pre and post hook&quot;</span><span class="token punctuation">,</span> TestMongooseContext<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>TestUser<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">userModel<span class="token operator">:</span> MongooseModel<span class="token operator">&lt;</span>TestUser<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// GIVEN</span>
    <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">userModel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      email<span class="token operator">:</span> <span class="token string">&quot;test@test.fr&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// WHEN</span>
    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// THEN</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>pre<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">&quot;hello pre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>post<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">&quot;hello post&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><div class="sharethis-inline-share-buttons"></div></div> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/tutorials/typeorm.html" class="prev">TypeORM</a></span> <span class="next"><a href="/tutorials/graphql.html">GraphQL</a>
      
    </span></p></div> <section class="other-topics"><ul><h3 class="heading">
          Other <br><b>topics</b></h3> <li><a href="/tutorials/session.html">Session &amp; cookies</a></li><li><a href="/tutorials/passport.html">Passport.js</a></li><li><a href="/tutorials/typeorm.html">TypeORM</a></li><li><a href="/tutorials/mongoose.html" class="router-link-exact-active router-link-active">Mongoose</a></li><li><a href="/tutorials/graphql.html">GraphQL</a></li><li><a href="/tutorials/socket-io.html">Socket.io</a></li><li><a href="/tutorials/swagger.html">Swagger</a></li><li><a href="/tutorials/ajv.html">AJV</a></li><li><a href="/tutorials/custom-validator.html">Custom validator</a></li><li><a href="/tutorials/multer.html">Multer</a></li><li><a href="/tutorials/serve-static-files.html">Serve static files</a></li><li><a href="/tutorials/templating.html">Templating</a></li><li><a href="/tutorials/throw-http-exceptions.html">Throw HTTP Exceptions</a></li><li><a href="/tutorials/not-found-page.html">Customize 404</a></li><li><a href="/tutorials/aws.html">AWS</a></li><li><a href="/tutorials/jest.html">Jest</a></li><li><a href="/tutorials/seq.html">Seq</a></li><li><a href="/docs/controllers.html">Controllers</a></li><li><a href="/docs/providers.html">Providers</a></li><li><a href="/docs/model.html">Model</a></li><li><a href="/docs/converters.html">Converters</a></li><li><a href="/docs/middlewares.html">Middlewares</a></li><li><a href="/docs/filters.html">Filters</a></li><li><a href="/docs/interceptors.html">Interceptors</a></li><li><a href="/docs/authentication.html">Authentication</a></li><li><a href="/docs/hooks.html">Hooks</a></li><li><a href="/docs/injection-scopes.html">Injection scopes</a></li><li><a href="/docs/custom-providers.html">Custom providers</a></li><li><a href="/docs/custom-endpoint-decorators.html">Custom endpoint decorator</a></li><li><a href="/docs/testing.html">Testing</a></li> </ul></section></article></div></main> <footer class="footer --with-sidebar"><div class="footer__improve-docs"><div class="container"><p>
        Caught a mistake or want to contribute to the documentation?
        <a href="https://github.com/TypedProject/tsed/edit/master/docs/tutorials/mongoose.md" target="_blank" rel="noopener noreferrer">Edit on Github</a></p></div></div> <div class="container--footer"><div class="container container--padded"><div class="footer__content"><div class="footer__next-step-header">
          Contribute
        </div> <p>
          Help shape the future of Ts.Ed by joining our team and send us pull requests via our
          <a href="https://github.com/TypedProject/tsed">GitHub repository!</a></p> <div class="footer__next-step-header">
          License
        </div> <p>
          Released under the <a href="#/license">MIT License</a> -  Copyright 2016 - 2020.
        </p> <a href="" title="Github" target="_blank" rel="noopener noreferrer" class="github-stars"><svg aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg class="svg-inline--fa fa-github fa-w-16"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> <span class="github-stars__stargazers-count">0</span></a></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.65d309d5.js" defer></script><script src="/assets/js/4.387fd50b.js" defer></script><script src="/assets/js/1.c67e570d.js" defer></script><script src="/assets/js/669.6035b088.js" defer></script>
  </body>
</html>
